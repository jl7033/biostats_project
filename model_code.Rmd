---
title: "biostats_project"
author: "Joe LaRocca"
date: "2024-12-10"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(glmnet)
```

## Upload Data


```{r}
score = read_csv("data/Project_1_data.csv") |>
  janitor::clean_names() |>
  mutate(wkly_study_hours = 
           case_match(
             wkly_study_hours,
             "< 5" ~ "< 5 hours",
             "10-May" ~ "5-10 hours",
             "> 10" ~ "> 10 hours"
           ),
         ethnic_group = 
           case_match(
             ethnic_group,
             "group A" ~ "A",
             "group B" ~ "B",
             "group C" ~ "C",
             "group D" ~ "D",
             "group E" ~ "E"
           )
         )

```


### Look at Correlation

```{r}

```



## Data Preparation

Create model matrix with one hot-encoding
```{r}
library(fastDummies)
score_dummies <- 
  score %>% 
  select(-math_score, -reading_score, -writing_score) %>% 
  dummy_cols(ignore_na = TRUE) %>% 
  select()

```



Impute missing values with the column average.
```{r}

```

## Data exploration

Create table of descriptive statistics.
```{r}

```



Visualization
```{r}

```


Search for outliers. Outliers are defined as points falling 1.5 * IQR outside Q1 or Q3
```{r}
# look for outliers in 

  # of siblings

  # reading

  # writing

  # math


# these are the only 
```


Search for co-linearity/high correlation in predictors
```{r}
score %>% 
  #select(-math_score, -reading_score, -writing_score) %>% 
  as.matrix(math_score~., data =_) %>% 
  cor()
```


Using VIF
Testing suite (specify ahead of time)
Optimal Models
MLR Full Model
Evaluate with adj R Square
Backwards AIC Model
Consider all 2 way interactions
LASSO
Consider all covariates and 2 and 3 way interactions. Conduct CV to find optimal lambda
Table with all of the models
Adj R-square
AIC



Full model
Backwards AIC model
LASSO
Interesting model 1
Interesting model 2
Reading
0.7
0.64
etc.




Writing
0.75
0.96






Math
0.8
.77









Interesting Models


Model Diagnostics
Consider interactions
Plotting
X-values versus residuals
Check for homoscedasticity
Qq-plot of residuals to check that they are normal
If the residuals are not normal, we will use the Box-Cox transformation to find the best . 
Residuals versus leverage
Detect any points that are exerting lots of leverage. We will remove any points that have ___ too much leverage. 
Adjusted R-Squared
CV
For all automatically selecting models, we will do a 10-fold cross validated MSE test. 
Interesting Models
These models are for the discussion section. Weâ€™ll include discussion of models that we have room for. We will not be rigorously validating these models. 
Economic Model: Using any proxy for economic status
ParentEduc
LunchType
TransportMeans
TestPrep
Hard Worker Model
WklyStudyHours
PracticeSport 
Family Structure Model
ParentMaritalStatus
NrSiblings
IsFirstChild
Demographics Model
Gender
EthnicGroup



